(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{71:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(43),r=t.n(n),s=t(44),i=t(52),l=t(10),o=t(0),c=t.n(o),u=t(45),p=t(56),m=t(42),d=t(47),v=t(15),b=t(65),O=t(53),f=t(57),h=t(46),g=t(11);t(71),t(58);a.default=function(){var e=Object(o.useContext)(g.a),a=Object(o.useState)(!0),t=Object(l.a)(a,2),n=t[0],j=t[1],w=Object(h.a)(),E=w.isLoading,x=w.error,k=w.sendRequest,y=w.clearError,I=Object(f.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),N=Object(l.a)(I,3),P=N[0],T=N[1],S=N[2],V=function(){var a=Object(s.a)(r.a.mark((function a(t){var s,i,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),!n){a.next=14;break}return a.prev=2,a.next=5,k("https://your-places-demo.herokuapp.com/api/users/login","POST",JSON.stringify({email:P.inputs.email.value,password:P.inputs.password.value}),{"Content-Type":"application/json"});case 5:s=a.sent,e.login(s.userId,s.token),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:a.next=28;break;case 14:return a.prev=14,(i=new FormData).append("email",P.inputs.email.value),i.append("name",P.inputs.name.value),i.append("password",P.inputs.password.value),i.append("image",P.inputs.image.value),a.next=22,k("https://your-places-demo.herokuapp.com/api/users/signup","POST",i);case 22:l=a.sent,e.login(l.userId,l.token),a.next=28;break;case 26:a.prev=26,a.t1=a.catch(14);case 28:case"end":return a.stop()}}),a,null,[[2,9],[14,26]])})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{error:x,onClear:y}),c.a.createElement(u.a,{className:"authentication"},E&&c.a.createElement(v.a,{asOverlay:!0}),c.a.createElement("h2",{className:"authentication__header"},"Login Required"),c.a.createElement("hr",null),c.a.createElement("form",{className:"place-form",onSubmit:V},!n&&c.a.createElement(p.a,{element:"input",id:"name",type:"text",label:"Your Name",validators:[Object(O.c)()],errorText:"Please eneter your name",onInput:T}),!n&&c.a.createElement(b.a,{center:!0,id:"image",onInput:T,errorText:"Please provide an image."}),c.a.createElement(p.a,{id:"email",element:"input",type:"email",label:"Email",validators:[Object(O.a)()],errorText:"Please enter a valid email address",onInput:T}),c.a.createElement(p.a,{id:"password",element:"input",type:"password",label:"Password",validators:[Object(O.b)(6)],errorText:"Please enter a valid password at least 8 characters long",onInput:T}),c.a.createElement(m.a,{type:"submit",disabled:!P.isValid},n?"LOGIN":"SIGNUP")),c.a.createElement(m.a,{inverse:!0,onClick:function(){n?S(Object(i.a)(Object(i.a)({},P.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):S(Object(i.a)(Object(i.a)({},P.inputs),{},{name:void 0,image:void 0}),P.inputs.email.isValid&&P.inputs.password.isValid),j((function(e){return!e}))}},"SWITCH TO ",n?"SIGNUP":"LOGIN")))}}}]);
//# sourceMappingURL=8.a8e845df.chunk.js.map